# Every test file has one or more tests...
test_name: Get for oone output currency

# ...and each test has one or more stages (e.g. an HTTP request)
stages:
  - name: Make sure we have the right ID

    # Define the request to be made...
    request:
      url: http://localhost/currency_converter?amount=100.9&input_currency=MXN&output_currency=EUR
      method: GET

    # ...and the expected response code and body
    response:
      status_code: 200
      body:
        {"input": {"amount": 100.9, "currency": "MXN"}, "output": {"EUR": 4.703697511664076}}

---

test_name: Get for multi output

# ...and each test has one or more stages (e.g. an HTTP request)
stages:
  - name: Make sure

    # Define the request to be made...
    request:
      url: http://localhost/currency_converter?amount=100.9&input_currency=MXN
      method: GET

    # ...and the expected response code and body
    response:
      status_code: 200
      body:
        {"input": {"amount": 100.9, "currency": "MXN"}, "output": {"AUD": 7.5475138810905245, "BRL": 20.865660572611247, "BGN": 9.198532542579077, "CNY": 35.909498367468096, "DKK": 35.11730043541365, "EUR": 4.703697511664076, "PHP": 275.03375997453793, "HKD": 41.31799863387979, "HRK": 34.84421082949309, "INR": 368.4343403581436, "IDR": 75517.54057428215, "ISK": 645.3595433692523, "ILS": 18.800170940170943, "JPY": 578.1005399722848, "ZAR": 75.47043044291954, "CAD": 7.097629803461426, "KRW": 6226.40761708698, "HUF": 1520.7932118164679, "MYR": 21.865009940357854, "MXN": 100.9, "XDR": 3.799475518984957, "NOK": 46.12241707967976, "NZD": 8.002851094793941, "PLN": 20.19347354364881, "RON": 22.399389002036663, "RUB": 343.61253124289937, "SGD": 7.179342472256841, "SEK": 50.788874895046185, "CHF": 5.357087189478813, "THB": 167.25991981197294, "TRY": 32.83014925373135, "USD": 5.263851542444416, "GBP": 4.051001205464774, "CZK": 120.97910000000002}}
---

test_name: Get error missing amount

# ...and each test has one or more stages (e.g. an HTTP request)
stages:
  - name: Make sure

    # Define the request to be made...
    request:
      url: http://localhost/currency_converter?&input_currency=MXN
      method: GET

    # ...and the expected response code and body
    response:
      status_code: 422
      body:
        {"Error":{"amount":["Missing data for required field."]}}

---

test_name: Get error missing input currency

# ...and each test has one or more stages (e.g. an HTTP request)
stages:
  - name: Make sure

    # Define the request to be made...
    request:
      url: http://localhost/currency_converter?amount=100.9&output_currency=EUR
      method: GET

    # ...and the expected response code and body
    response:
      status_code: 422
      body:
        {"Error":{"input_currency":["Missing data for required field."]}}

---

test_name: Get unkwnow input currency

# ...and each test has one or more stages (e.g. an HTTP request)
stages:
  - name: Make sure

    # Define the request to be made...
    request:
      url: http://localhost/currency_converter?amount=18&input_currency=HHH
      method: GET

    # ...and the expected response code and body
    response:
      status_code: 400
      body:
        {"Error": {"input_currency": ["Unknown input currency or symbol."]}}